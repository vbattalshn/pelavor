import apiClient from "@/lib/api";
import { useEffect, useState } from "react";
import toast from "react-hot-toast";
import axios from "axios";
import ReactCountryFlag from "react-country-flag";
export default function AccessRestricted() {
  const [city, setCity] = useState("");
  const [countryCode, setCountryCode] = useState("");
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchLocationData = async () => {
      try {
        const response = await axios.get("http://ipinfo.io/json");
        setCity(response.data.city || "Unknown City");
        setCountryCode(response.data.country || "Unknown");
      } catch (error) {
        toast.error(error.response?.data?.message || "Bir hata oluştu.");
      } finally {
        setLoading(false);
      }
    };

    fetchLocationData();
  }, []);

  return (
    <div>
      <div className="w-full h-screen flex items-center justify-center gap-4 flex-col fixed top-0 bg-center">
        <Icon className="max-h-36" />
        <h2 className="text-2xl text-neutral-800 font-semibold">
          Access Restricted
        </h2>
        <p className="max-w-96 text-justify">
          Our website is currently accessible only to users within Türkiye. We
          are working on making it available globally. Thank you for your
          understanding!
        </p>
        {!loading ? (
          <div className="flex gap-2 fixed bottom-8 p-3 bg-neutral-200 rounded-lg shadow-lg animate-loaded">
            You are here : {city}
            <ReactCountryFlag
              countryCode={countryCode}
              svg
              style={{
                width: "32px",
                height: "24px",
                borderRadius: "4px",
              }}
              title={city}
            />
          </div>
        ) : null}
      </div>
    </div>
  );
}

function Icon({ className }) {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="748.775"
      height="698.528"
      data-name="Layer 1"
      viewBox="0 0 748.775 698.528"
      className={className}
    >
      <path
        fill="#f2f2f2"
        d="M51.016 655.158c-3.6 0-7.207.171-10.73.516l-.512.05C16.41 658.1-.682 671.895.021 687.813l.136 2.877c.09 1.82.185 3.776.263 5.946.043 1.07 1.312 1.891 2.89 1.891h574.732c40.522-.283 80.896-.64 119.996-1.06a177.652 177.652 0 0021.954-1.309c10.866-1.48 18.407-4.415 23.058-8.972h.002c5.783-5.65 5.965-12.765 5.615-20.804-.712-16.233-1.419-33.285-2.124-50.286-.622-14.984-1.242-29.927-1.862-44.234-.384-8.49-1.236-15.984-7.803-21.712-7.12-6.194-20.102-9.334-38.589-9.334l-.671.001c-57.936.238-115.342 23.171-142.845 57.068-3.168 3.903-6.119 8.082-8.973 12.124a158.913 158.913 0 01-13.78 17.664 66.95 66.95 0 01-9.104 8.169c-.223.177-.478.368-.749.548-.618.464-1.265.912-1.895 1.31a62.04 62.04 0 01-11.609 6.076l-.407.157c-.306.126-.638.252-.97.368a68.213 68.213 0 01-7.17 2.206c-10.484 2.66-22.406 3.297-35.432 1.893a151.751 151.751 0 01-35.23-8.264c-12.062-4.39-23.352-9.86-34.271-15.152-4.796-2.325-9.757-4.728-14.711-7.006-.931-.428-1.847-.847-2.777-1.266-6.05-2.715-11.537-4.957-16.77-6.855a146.279 146.279 0 00-39.965-8.521c-14.41-.908-27.107.804-37.732 5.079a60.653 60.653 0 00-8.535 4.233c-12.585 7.524-20.343 18.627-27.845 29.365-9.332 13.357-18.983 27.17-38.038 34.33-21.988 8.27-54.084 4.834-76.791-1.141-7.14-1.879-14.27-4.04-21.166-6.13q-4.178-1.268-8.361-2.518c-5.48-1.628-9.966-2.877-14.116-3.93l-1.313-.336c-.73-.183-1.46-.365-2.205-.54-4.929-1.19-9.519-2.128-14.039-2.865l-1.069-.18a173.405 173.405 0 00-6.115-.823l-.785-.09a109.226 109.226 0 00-11.834-.633z"
      ></path>
      <path
        fill="#ffb7b7"
        d="M589.616 444.977a11.965 11.965 0 01-13.667-12.232l-39.678-15.247 17.965-12.851 34.924 16.45a12.026 12.026 0 01.455 23.88z"
        data-name="Path 2996"
        transform="translate(-225.613 -100.736)"
      ></path>
      <path
        fill="#3f3d56"
        d="M566.943 434.038l6.195-21.852-.305-.208-58.03-39.42-50.163-50.333-29.221 11.675 1.919 9.249.125.113L504.158 403l.061.03z"
        data-name="Path 2997"
        transform="translate(-225.613 -100.736)"
      ></path>
      <path
        fill="#ffb6b6"
        d="M281.883 383.218L192.074 370.629 199.978 315.521 266.096 315.521 281.883 383.218z"
      ></path>
      <path
        fill="#ffb6b6"
        d="M129.283 653.061L147.706 657.342 172.986 588.321 145.796 582.003 129.283 653.061z"
      ></path>
      <path
        fill="#2f2e41"
        d="M112.142 682.721l13.211 3.07 5.257-11.925 3.141 13.877 35.04 8.143a8.087 8.087 0 007.813-13.319l-23.491-25.828 2.93-12.61-29.84-5.082z"
      ></path>
      <path
        fill="#ffb6b6"
        d="M242.956 663.327L261.87 663.327 270.87 590.376 242.956 590.376 242.956 663.327z"
      ></path>
      <path
        fill="#2f2e41"
        d="M232.974 696.098h13.563l2.42-12.806 6.202 12.806h35.973a8.087 8.087 0 004.595-14.742L267 661.516V648.57l-30.217 1.804zM190.938 361.278l87.83-6.987c25.917 60.543 9.437 157.192-10.48 265.99l-28.25 3.653-2.191-174.827-70.817 162.641-29.443-1.505z"
      ></path>
      <path
        fill="#2f2e41"
        d="M467.675 302.588v-29.713a39.816 39.816 0 10-79.632 0c-7.018 14.623-2.627 21.575 0 29.713a5.355 5.355 0 005.346 5.346h68.937a5.355 5.355 0 005.349-5.346z"
        data-name="Path 3002"
        transform="translate(-225.613 -100.736)"
      ></path>
      <circle
        cx="212.072"
        cy="177.559"
        r="29.192"
        fill="#ffb7b7"
        data-name="Ellipse 572"
      ></circle>
      <path
        fill="#2f2e41"
        d="M477.094 275.251a31.531 31.531 0 00-31.496-31.496h-5.943a31.531 31.531 0 00-31.496 31.496v.595c4.451 3.042 8.676 3.487 12.56 0l4.283-11.995.856 11.994h6.492l2.164-6.05.433 6.05c8.768 7.468 25.347 3.89 42.147 0z"
        data-name="Path 3003"
        transform="translate(-225.613 -100.736)"
      ></path>
      <path
        fill="#3f3d56"
        d="M420.662 432.364l74.326-2.829 4.154-48.623c3.204-8.9 3.256-16.548.154-22.713a22.736 22.736 0 00-12.551-10.849l-16.264-19.643a22.136 22.136 0 00-17.184-8.011l-42.259.289c-1.018-.613-7.197-3.753-19.382 1.527-13.216 5.728-10.147 25.628-10.114 25.828l.03.187.146.127 28.107 23.676z"
        data-name="Path 3004"
        transform="translate(-225.613 -100.736)"
      ></path>
      <path
        fill="#ea3a3d"
        d="M533.755 246.137c-47.961 54.05-192.265 64.36-286.194 163.575-31.491-95.9 13.12-261.444 57.578-324.575A139.809 139.809 0 01499.947 51.33c63.13 44.459 85.056 137.053 33.808 194.808z"
      ></path>
      <circle
        cx="417.545"
        cy="148.688"
        r="45.596"
        fill="#fff"
        data-name="Ellipse 577"
      ></circle>
      <circle
        cx="209.016"
        cy="429.505"
        r="29.865"
        fill="#ea3a3d"
        data-name="Ellipse 577"
      ></circle>
      <path
        fill="#ffb7b7"
        d="M400.463 528.08a11.965 11.965 0 01.63-18.329l-13.725-40.229 21.384 5.555 9.745 37.349a12.026 12.026 0 01-18.039 15.656z"
        data-name="Path 3011"
        transform="translate(-225.613 -100.736)"
      ></path>
      <path
        fill="#3f3d56"
        d="M394.332 503.667l20.748-9.246-6.97-70.177 6.491-70.764-27.701-14.95-5.87 7.4v.169l-3.11 89.482.017.068z"
        data-name="Path 3012"
        transform="translate(-225.613 -100.736)"
      ></path>
      <path
        fill="#e6e6e6"
        d="M663.42 536.04c-1.45 5.44-5.26 9.97-9.86 13.27-.75.54-1.52 1.04-2.3 1.51-.24.14-.48.29-.73.42q-.405.24-.81.45h-21.63c-.39-.79-.77-1.59-1.15-2.38-9.27-19.48-15.78-40.5-14.67-61.91a79.254 79.254 0 015.17-24.25c5.94-15.47 16.78-28.86 31.69-35.6.37-.17.76-.34 1.14-.5l-.36 1.28a110.785 110.785 0 00-3.38 17.59c-.06.46-.11.92-.15 1.39A116.054 116.054 0 00650.1 490l.03.1q1.275 4.604 2.96 9.07c.88 2.35 1.83 4.67 2.87 6.95 4.34 9.57 10.16 19.77 7.46 29.92z"
      ></path>
      <path
        fill="#fff"
        d="M650.54 427.5c-.21.28-.42.55-.63.83a98.128 98.128 0 00-11.12 18.76c-.16.33-.31.66-.44 1a97.813 97.813 0 00-7.82 29.24 1.49 1.49 0 00-.02.21c-.25 2.36-.4 4.74-.46 7.12a42.48 42.48 0 001.43 13.24 23.769 23.769 0 005.46 9.42c.25.27.5.54.77.8.2.21.42.42.63.62 2.02 1.93 4.23 3.72 6.13 5.79a21.432 21.432 0 012.35 3 14.904 14.904 0 011.6 12.1c-1.36 5.06-4.47 9.33-7.65 13.4-1.59 2.04-3.23 4.1-4.65 6.28-.52.78-1 1.57-1.44 2.38h-1.26c.42-.81.88-1.6 1.38-2.38 3.65-5.75 8.84-10.69 11.53-17.02 1.82-4.27 2.37-9.11.07-13.3a17.681 17.681 0 00-2.43-3.38c-1.83-2.07-4.02-3.84-6.01-5.71-.5-.47-.99-.95-1.46-1.45a24.964 24.964 0 01-5.64-8.9 39.23 39.23 0 01-1.94-13.13c0-2.84.15-5.7.43-8.54.03-.36.07-.73.11-1.1a100.766 100.766 0 0119.67-49.23c.2-.28.41-.55.62-.82.43-.56 1.22.22.79.77z"
      ></path>
      <path
        fill="#fff"
        d="M629.864 477.974a14.807 14.807 0 01-12.355-14.663.553.553 0 011.105-.024 13.711 13.711 0 0011.52 13.616c.701.114.427 1.185-.27 1.071zM636.662 507.52a28.54 28.54 0 0011.534-17.308c.15-.695 1.221-.424 1.07.27a29.685 29.685 0 01-12.037 17.987c-.585.406-1.148-.544-.567-.949zM638.46 446.972a8.381 8.381 0 007.893-.971c.579-.414 1.141.537.566.948a9.392 9.392 0 01-8.73 1.094.57.57 0 01-.4-.67.555.555 0 01.67-.4z"
      ></path>
      <path
        fill="#e6e6e6"
        d="M725.56 466.17c-.35.27-.71.54-1.06.82a110.363 110.363 0 00-13.29 12c-.32.33-.64.67-.95 1.01l-.01.01a116.347 116.347 0 00-22.66 36.14l-.03.09c-.01.03-.02.05-.03.08a114.445 114.445 0 00-5.03 16.42c-1.22 5.46-2.22 11.31-4.13 16.57-.29.81-.61 1.61-.95 2.38h-44.46c.15-.79.31-1.59.47-2.38a160.3 160.3 0 0110.54-33.7c.16-.36.32-.72.5-1.08a108.305 108.305 0 018.61-15.35.01.01 0 01.01-.01 94.956 94.956 0 015.8-7.69 79.119 79.119 0 0118.72-16.24c.04-.03.09-.05.13-.08 14.04-8.71 30.68-12.86 46.59-9.27h.01c.41.09.81.18 1.22.28z"
      ></path>
      <path
        fill="#fff"
        d="M725.51 466.7c-.34.09-.68.19-1.01.29a98.589 98.589 0 00-20.17 8.27c-.32.17-.64.35-.96.53a98.255 98.255 0 00-23.79 18.59.035.035 0 00-.01.02c-.08.08-.17.17-.24.25a90.03 90.03 0 00-4.6 5.35 42.769 42.769 0 00-6.82 11.43 23.674 23.674 0 00-1.31 10.81c.03.37.08.73.13 1.1.04.29.08.58.13.88.66 4.01 1.8 8.03 1.48 12.12a14.91 14.91 0 01-6.01 10.63 23.793 23.793 0 01-3.68 2.34 36.853 36.853 0 01-5.77 2.38h-3.93l1.58-.45a48.21 48.21 0 005.53-1.93 26.912 26.912 0 003-1.48c4.02-2.31 7.37-5.85 8.07-10.58.61-4.14-.57-8.28-1.27-12.33-.12-.7-.23-1.39-.29-2.08a24.439 24.439 0 01.85-10.46 39.062 39.062 0 016.36-11.66 83.357 83.357 0 015.48-6.55q.36-.406.75-.81a100.901 100.901 0 0124.21-18.73h.01a99.287 99.287 0 0121.1-8.74h.01c.33-.1.67-.2 1-.29.69-.18.85.91.17 1.1z"
      ></path>
      <path
        fill="#fff"
        d="M678.614 494.549a14.807 14.807 0 01-1.036-19.146c.432-.564 1.33.081.897.646a13.711 13.711 0 001 17.807c.491.514-.372 1.204-.86.693zM666.254 522.233a28.54 28.54 0 0019.629-6.875c.54-.465 1.23.397.692.86a29.685 29.685 0 01-20.44 7.113c-.712-.027-.589-1.125.119-1.098zM704.142 474.97a8.381 8.381 0 006.888 3.977c.712.019.588 1.117-.119 1.098a9.392 9.392 0 01-7.63-4.382.57.57 0 01.085-.776.555.555 0 01.776.084z"
      ></path>
      <path
        fill="#e6e6e6"
        d="M393.98 679.783c-1.45 5.44-5.26 9.97-9.86 13.27-.75.54-1.52 1.04-2.3 1.51-.24.14-.48.29-.73.42q-.405.24-.81.45h-21.63c-.39-.79-.77-1.59-1.15-2.38-9.27-19.48-15.78-40.5-14.67-61.91a79.254 79.254 0 015.17-24.25c5.94-15.47 16.78-28.86 31.69-35.6.37-.17.76-.34 1.14-.5l-.36 1.28a110.785 110.785 0 00-3.38 17.59c-.06.46-.11.92-.15 1.39a116.054 116.054 0 003.72 42.69l.03.1q1.275 4.605 2.96 9.07c.88 2.35 1.83 4.67 2.87 6.95 4.34 9.57 10.16 19.77 7.46 29.92z"
      ></path>
      <path
        fill="#fff"
        d="M381.1 571.243c-.21.28-.42.55-.63.83a98.129 98.129 0 00-11.12 18.76c-.16.33-.31.66-.44 1a97.814 97.814 0 00-7.82 29.24 1.49 1.49 0 00-.02.21c-.25 2.36-.4 4.74-.46 7.12a42.48 42.48 0 001.43 13.24 23.769 23.769 0 005.46 9.42c.25.27.5.54.77.8.2.21.42.42.63.62 2.02 1.93 4.23 3.72 6.13 5.79a21.43 21.43 0 012.35 3 14.904 14.904 0 011.6 12.1c-1.36 5.06-4.47 9.33-7.65 13.4-1.59 2.04-3.23 4.1-4.65 6.28-.52.78-1 1.57-1.44 2.38h-1.26c.42-.81.88-1.6 1.38-2.38 3.65-5.75 8.84-10.69 11.53-17.02 1.82-4.27 2.37-9.11.07-13.3a17.682 17.682 0 00-2.43-3.38c-1.83-2.07-4.02-3.84-6.01-5.71-.5-.47-.99-.95-1.46-1.45a24.964 24.964 0 01-5.64-8.9 39.23 39.23 0 01-1.94-13.13c0-2.84.15-5.7.43-8.54.03-.36.07-.73.11-1.1a100.767 100.767 0 0119.67-49.23c.2-.28.41-.55.62-.82.43-.56 1.22.22.79.77z"
      ></path>
      <path
        fill="#fff"
        d="M360.423 621.718a14.807 14.807 0 01-12.354-14.663.553.553 0 011.105-.024 13.71 13.71 0 0011.52 13.616c.701.114.427 1.184-.27 1.07zM367.222 651.264a28.54 28.54 0 0011.533-17.308c.151-.695 1.222-.424 1.071.27a29.685 29.685 0 01-12.038 17.986c-.585.407-1.148-.544-.566-.948zM369.019 590.716a8.381 8.381 0 007.893-.972c.58-.413 1.142.538.566.949a9.392 9.392 0 01-8.73 1.094.57.57 0 01-.4-.67.555.555 0 01.67-.401z"
      ></path>
      <path
        fill="#e6e6e6"
        d="M456.12 609.913c-.35.27-.71.54-1.06.82a110.362 110.362 0 00-13.29 12c-.32.33-.64.67-.95 1.01l-.01.01a116.347 116.347 0 00-22.66 36.14l-.03.09c-.01.03-.02.05-.03.08a114.443 114.443 0 00-5.03 16.42c-1.22 5.46-2.22 11.31-4.13 16.57-.29.81-.61 1.61-.95 2.38h-44.46c.15-.79.31-1.59.47-2.38a160.302 160.302 0 0110.54-33.7c.16-.36.32-.72.5-1.08a108.305 108.305 0 018.61-15.35.01.01 0 01.01-.01 94.956 94.956 0 015.8-7.69 79.119 79.119 0 0118.72-16.24c.04-.03.09-.05.13-.08 14.04-8.71 30.68-12.86 46.59-9.27h.01c.41.09.81.18 1.22.28z"
      ></path>
      <path
        fill="#fff"
        d="M456.07 610.443c-.34.09-.68.19-1.01.29a98.589 98.589 0 00-20.17 8.27c-.32.17-.64.35-.96.53a98.255 98.255 0 00-23.79 18.59.035.035 0 00-.01.02c-.08.08-.17.17-.24.25a90.03 90.03 0 00-4.6 5.35 42.769 42.769 0 00-6.82 11.43 23.674 23.674 0 00-1.31 10.81c.03.37.08.73.13 1.1.04.29.08.58.13.88.66 4.01 1.8 8.03 1.48 12.12a14.91 14.91 0 01-6.01 10.63 23.795 23.795 0 01-3.68 2.34 36.851 36.851 0 01-5.77 2.38h-3.93l1.58-.45a48.214 48.214 0 005.53-1.93 26.914 26.914 0 003-1.48c4.02-2.31 7.37-5.85 8.07-10.58.61-4.14-.57-8.28-1.27-12.33-.12-.7-.23-1.39-.29-2.08a24.439 24.439 0 01.85-10.46 39.063 39.063 0 016.36-11.66 83.355 83.355 0 015.48-6.55q.36-.405.75-.81a100.901 100.901 0 0124.21-18.73h.01a99.288 99.288 0 0121.1-8.74h.01c.33-.1.67-.2 1-.29.69-.18.85.91.17 1.1z"
      ></path>
      <path
        fill="#fff"
        d="M409.174 638.292a14.807 14.807 0 01-1.036-19.145c.432-.564 1.329.08.896.646a13.711 13.711 0 001 17.807c.492.514-.372 1.203-.86.692zM396.814 665.977a28.54 28.54 0 0019.629-6.876c.539-.464 1.23.397.692.86a29.685 29.685 0 01-20.44 7.114c-.712-.028-.59-1.126.119-1.098zM434.702 618.714a8.381 8.381 0 006.888 3.977c.711.019.588 1.117-.12 1.098a9.392 9.392 0 01-7.628-4.382.57.57 0 01.084-.777.555.555 0 01.776.084z"
      ></path>
      <circle cx="442.066" cy="395.5" r="12" fill="#f2f2f2"></circle>
      <circle cx="591.137" cy="251.758" r="12" fill="#f2f2f2"></circle>
      <circle cx="179.143" cy="12" r="12" fill="#f2f2f2"></circle>
      <path
        fill="#ccc"
        d="M226.86 798.08h746.28a1.247 1.247 0 000-2.494H226.86a1.247 1.247 0 100 2.494z"
        data-name="Path 2960"
        transform="translate(-225.613 -100.736)"
      ></path>
      <path
        fill="#231f20"
        d="M456.995 126.858a45.59 45.59 0 01-69.417 57.29 45.595 45.595 0 1069.417-57.29z"
        opacity="0.2"
      ></path>
      <path
        fill="#231f20"
        d="M512.975 64.662c37.43 48.396 43.887 117.95 2.412 164.69-46.339 52.222-182.61 63.62-276.492 153.817a193.39 193.39 0 006.751 27.758c93.93-99.215 238.233-109.525 286.195-163.575 46.964-52.927 32.47-135.105-18.866-182.69z"
        opacity="0.2"
      ></path>
    </svg>
  );
}
